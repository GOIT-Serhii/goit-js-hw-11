{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nfunction getPictures(query) {\n\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = \"44781960-4338c4c6360104e4623fadff2\";\n    const imageType = 'photo';\n    const orientation = 'horizontal';\n    const safeSearch = true;\n\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`).then((res) => {\n        if (!res.ok) {\n            throw new Error(res.status)\n        }\n        return res.json()\n    })\n}\n\n\n\n\n\nconst formSearch = document.querySelector('.form-search');\nconst cardContainer = document.querySelector('.card-container');\nconst loader = document.querySelector('.loader')\n\nformSearch.addEventListener('submit', handlerSearch)\n\nfunction handlerSearch(event) {\n    \n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const userValue = form.elements.search.value.toLowerCase();\n\n    showLoader()\n\n    getPictures(userValue)\n        .then(createMarkup) \n        .catch(onFetchError) \n        .finally(() => {\n            form.reset();\n            hideLoader();\n        });\n}\n\nfunction createMarkup({ hits }) {\n    if (hits.length === 0) {\n        onFetchError();\n        return;\n    }\n    const markup = hits.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n       return `\n    <li class=\"item\">\n        <a href=\"${largeImageURL}\"><img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" ></a>\n            <ul class=\"descr-list\">\n                    <li class=\"descr-item\">\n                            <h3 class=\"descr-title\">Likes</h3>\n                            <p class=\"descr-value\">${likes}</p>\n                    </li>\n            <li class=\"descr-item\">\n                            <h3 class=\"descr-title\">Views</h3>\n                            <p class=\"descr-value\">${views}</p>\n                    </li>\n            <li class=\"descr-item\">\n                            <h3 class=\"descr-title\">Comments</h3>\n                            <p class=\"descr-value\">${comments}</p>\n                    </li>\n            <li class=\"descr-item\">\n                            <h3 class=\"descr-title\">Downloads</h3>\n                            <p class=\"descr-value\">${downloads}</p>\n                    </li>\n            </ul>\n    </li>\n    `\n    }).join('') ;\n    cardContainer.innerHTML = markup;\n\n    const lightbox = new SimpleLightbox('.card-container a', {\n        captions: true,\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250,\n});\n\n    lightbox.refresh();\n}\n\n\n\nfunction onFetchError() {\n    iziToast.error({\n   \n    message: 'Sorry, there are no images matching your search query. Please try again!',\n});\n\n}\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}\n"],"names":["getPictures","query","res","formSearch","cardContainer","loader","handlerSearch","event","form","userValue","showLoader","createMarkup","onFetchError","hideLoader","hits","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","iziToast"],"mappings":"6vBAWA,SAASA,EAAYC,EAAO,CAQxB,OAAO,MAAM,qEAAgCA,CAAK,uDAAkE,EAAU,EAAE,EAAE,KAAMC,GAAQ,CAC5I,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,KAAM,CACzB,CAAK,CACL,CAMA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAW,iBAAiB,SAAUG,CAAa,EAEnD,SAASA,EAAcC,EAAO,CAE1BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAYD,EAAK,SAAS,OAAO,MAAM,cAE7CE,EAAY,EAEZV,EAAYS,CAAS,EAChB,KAAKE,CAAY,EACjB,MAAMC,CAAY,EAClB,QAAQ,IAAM,CACXJ,EAAK,MAAK,EACVK,GACZ,CAAS,CACT,CAEA,SAASF,EAAa,CAAE,KAAAG,GAAQ,CAC5B,GAAIA,EAAK,SAAW,EAAG,CACnBF,IACA,MACH,CACD,MAAMG,EAASD,EAAK,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACpF;AAAA;AAAA,mBAEKL,CAAa,6BAA6BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qDAIlCC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKzD,EAAE,KAAK,EAAE,EACVlB,EAAc,UAAYW,EAET,IAAIQ,EAAe,oBAAqB,CACrD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAC,EAEY,QAAO,CACpB,CAIA,SAASX,GAAe,CACpBY,EAAS,MAAM,CAEf,QAAS,0EACb,CAAC,CAED,CAEA,SAASd,GAAa,CAClBL,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASQ,GAAa,CAClBR,EAAO,MAAM,QAAU,MAC3B"}